\documentclass[a4paper, 10pt]{article}
\usepackage{palatino}
\usepackage[a4paper]{geometry}
\usepackage[UKenglish]{babel}
\usepackage[utf8]{inputenc}
\usepackage{afterpage}
\usepackage{fancyhdr}
\usepackage{amsmath}
\usepackage{amstext}
\usepackage{amssymb}
\usepackage{physics}
\usepackage{derivative}
\usepackage{longtable}
\usepackage{tabularx}
\usepackage{dcolumn}
\usepackage{graphicx}
\usepackage{enumerate}
\usepackage{multicol}
\usepackage{pdfpages}
\usepackage{lastpage}
\usepackage{siunitx}
\usepackage{listings}
\usepackage{tikz}
\usepackage{xspace}
\usepackage{caption} 

\AtBeginDocument{\RenewCommandCopy\qty\SI}
\sloppy

\geometry{margin=25mm, top=20mm, bottom=20mm}
\captionsetup{format=plain,indention=0mm, font=small, labelfont=bf, labelsep=period}

\newcommand{\logo}{\begin{figure}[!t] \vspace*{-10mm} \hspace*{-10mm}
\includegraphics[height=23mm]{../defs/usn-logo-en.pdf} \end{figure}}

\newcommand{\labfoot}[1]{\fancyhf[FC]{ \textit{TSE2280, Lab exercise  #1, spring 2024} } }

\newcommand{\regneovinglosningfoot}[1]{\fancyhf[FC]{TSE2280 Regneøving #1 - Løsning }}
\newcommand{\regneovingtitle}[1]{\section*{TSE2280, våren 2024. \qquad Regneøving #1 }}
\newcommand{\regneovinglosningtitle}[1]{\section*{TSE2280, Måleteknikk og signalbehandling \\Løsning regneøving #1 }}

\newcommand{\Fig}[1]{Fig.~\ref{fig:#1}}
\newcommand{\tableref}[1]{Table~\ref{tab:#1}}

\newcommand{\ed}[1]{\ensuremath{\cdot10^{#1}}}
\renewcommand{\deg}{\ensuremath{^\circ}}
\newcommand{\omegahat}{\hat \omega}

\newcommand{\zm}[1]{ z^{-{#1} } }

\newcommand{\ew}[1]{e^{{#1}j \omegahat }}
\newcommand{\ewn}[2]{e^{{#1}j{#2}} }
\newcommand{\Hw}[1]{H\left( e^{{#1}j \omegahat} \right)}
\newcommand{\Hwn}[2]{H \left( e^{{#1}j {#2}} \right)}

\newcounter{problem}
\newcommand{\problem}[1]{\stepcounter{problem}\section*{Problem \arabic{problem}. {#1}}} 

\newcommand{\subproblem}{\begin{enumerate}[a)]}
\newcommand{\subproblemend}{\end{enumerate}}

%=== FIGURE DEFINITIONS ============
\newenvironment{stdfig}{\begin{figure}[!b]\begin{center}}{\end{center}\end{figure}}
\newcommand{\stdgraphics}[1]{\begin{center}\includegraphics[width=0.95\textwidth]{#1}\end{center}}
\newcommand{\scaledgraphics}[2]{\begin{center}\includegraphics[width={#1}\textwidth]{#2}\end{center}}
\newcommand{\includescanFB}[1]{\begin{center}\includegraphics[width=0.90\textwidth]{#1}\end{center}}
\newcommand{\includescanMcC}[1]{\includegraphics[width=0.80\textwidth]{#1}}
\newcommand{\includedrawing}[1]{\includegraphics[scale=0.65]{#1}}
\newcommand{\Matlabfigure}[1]{\includegraphics[scale=0.80]{#1}}

\newcommand{\losning}[1]{\includegraphics[width=0.85\textwidth]{./losninger/#1}}
\newcommand{\losningfig}[1]{\includegraphics[width=0.85\textwidth]{./figs/#1}}
\newcommand{\losningfigfull}[1]{\includegraphics[width=0.99\textwidth]{./figs/#1}}
\newcommand{\losningfighalf}[1]{\includegraphics[width=0.49\textwidth]{./figs/#1}}
\newcommand{\losningfigreduced}[1]{\includegraphics[width=0.49\textwidth]{./figs/#1}}

%=== REFERENCING ===========================================
\newcommand{\Eq}[1]{(\ref{eq:#1})}

% Headers and footers
\pagestyle{fancy}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}

\fancyhf{} 
\fancyhf[FL]{\textit{\small LH, \today} }
\fancyhf[FR]{Page \thepage\ of \pageref{LastPage}} 


% Style for program listing
\definecolor{codegreen}{rgb}{0, 0.5, 0}
\definecolor{codegray}{rgb}{0.5, 0.5, 0.5}
\definecolor{codepurple}{rgb}{0.58, 0, 0.82}
\definecolor{backcolour}{rgb}{0.98, 0.98, 0.95}

\lstdefinestyle{pythonstyle}{
	language=python,	
	belowcaptionskip=1\baselineskip,
	breaklines=true,
	frame=single,
	numbers=none, 
	breaklines=true,				 
	keepspaces=true,		
	breakatwhitespace=false,		 		 	
	basicstyle=\small\ttfamily,
	keywordstyle=\color{blue},
	stringstyle=\color{codepurple},	
	commentstyle=\color{codegreen},
	identifierstyle=\color{black!95!white},
	backgroundcolor=\color{backcolour},
	tabsize=4,	
	}